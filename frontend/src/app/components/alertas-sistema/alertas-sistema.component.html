<app-tela-padrao
  [acoes]="acoesToolbar"
  [desabilitado]="acoesDesabilitadas"
  [mostrarFechar]="true"
  [fullWidth]="true"
  (salvar)="salvar()"
  (cancelar)="cancelar()"
  (novo)="novo()"
  (fechar)="fechar()"
>
  <section class="cadastro">
    <app-popup-messages
      [mensagens]="popupErros"
      (fechar)="fecharPopup()"
    ></app-popup-messages>

    <section class="alertas-card">
      <div class="alertas-card__header">
        <div class="alertas-card__title">
          <fa-icon [icon]="faBell" class="alertas-card__icon"></fa-icon>
          <span>Alertas do Sistema</span>
        </div>
        <div class="alertas-card__badge">E-mail principal da unidade</div>
      </div>
      <div class="alertas-card__divider"></div>

      <form [formGroup]="formulario" class="alertas-card__form">
        <label class="field full">
          Alertas desejados *
          <div class="checkbox-grid" formArrayName="alertas">
            <label
              class="alerta-tile"
              *ngFor="let alerta of alertasDisponiveis; let i = index"
            >
              <input type="checkbox" [formControlName]="i" />
              <span class="alerta-tile__label">{{ alerta.label }}</span>
            </label>
          </div>
        </label>

        <label class="field">
          Frequência de envio *
          <select formControlName="frequenciaEnvio">
            <option *ngFor="let frequencia of frequenciasEnvio" [value]="frequencia.id">
              {{ frequencia.label }}
            </option>
          </select>
        </label>
      </form>

      <div *ngIf="feedback" class="feedback">
        <span>{{ feedback }}</span>
        <button
          type="button"
          class="feedback__close"
          aria-label="Fechar aviso"
          (click)="feedback = null"
        >
          &times;
        </button>
      </div>
    </section>
  </section>
</app-tela-padrao>
