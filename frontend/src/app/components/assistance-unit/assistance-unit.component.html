<div class="p-6 space-y-6">
  <div class="card space-y-4">
    <div class="card__header">Cadastro de Unidade Assistencial</div>
    <p class="text-sm text-slate-600">
      Apenas uma unidade pode ser cadastrada. Utilize os campos abaixo para manter os dados gerais atualizados.
    </p>

    <form [formGroup]="form" class="space-y-4" (ngSubmit)="save()">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="space-y-2 md:col-span-2">
          <label class="text-sm font-medium text-slate-700" for="nome">Nome da unidade</label>
          <input id="nome" type="text" formControlName="nome" class="input" placeholder="Ex.: Unidade Central" />
          <p *ngIf="form.get('nome')?.touched && form.get('nome')?.invalid" class="text-xs text-red-500">
            Informe um nome válido para a unidade.
          </p>
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium text-slate-700" for="telefone">Telefone</label>
          <input id="telefone" type="text" formControlName="telefone" class="input" placeholder="(00) 0000-0000" />
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium text-slate-700" for="email">E-mail</label>
          <input id="email" type="email" formControlName="email" class="input" placeholder="contato@unidade.com" />
          <p *ngIf="form.get('email')?.touched && form.get('email')?.invalid" class="text-xs text-red-500">
            Informe um e-mail válido.
          </p>
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium text-slate-700" for="cep">CEP</label>
          <input id="cep" type="text" formControlName="cep" class="input" placeholder="00000-000" />
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium text-slate-700" for="numeroEndereco">Número</label>
          <input id="numeroEndereco" type="text" formControlName="numeroEndereco" class="input" placeholder="Número" />
        </div>

        <div class="space-y-2 md:col-span-2">
          <label class="text-sm font-medium text-slate-700" for="endereco">Endereço</label>
          <input id="endereco" type="text" formControlName="endereco" class="input" placeholder="Rua, avenida..." />
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium text-slate-700" for="bairro">Bairro</label>
          <input id="bairro" type="text" formControlName="bairro" class="input" placeholder="Bairro" />
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium text-slate-700" for="cidade">Cidade</label>
          <input id="cidade" type="text" formControlName="cidade" class="input" placeholder="Cidade" />
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium text-slate-700" for="estado">Estado</label>
          <input id="estado" type="text" formControlName="estado" class="input" placeholder="UF" />
        </div>

        <div class="space-y-2 md:col-span-2">
          <label class="text-sm font-medium text-slate-700" for="observacoes">Observações</label>
          <textarea
            id="observacoes"
            formControlName="observacoes"
            rows="3"
            class="input"
            placeholder="Instruções internas, horário de atendimento, etc."
          ></textarea>
        </div>
      </div>

      <div class="flex items-center justify-between gap-3">
        <button type="button" class="btn-outline" (click)="form.reset(unidade || {})">Cancelar</button>
        <div class="flex gap-3">
          <button type="button" class="btn-outline" *ngIf="unidade?.id" (click)="delete()">Excluir unidade</button>
          <button type="submit" class="btn-primary">{{ unidade ? 'Atualizar unidade' : 'Salvar unidade' }}</button>
        </div>
      </div>
    </form>
  </div>

  <div class="card space-y-3">
    <div class="card__header">Dados atuais da unidade</div>
    <p class="text-sm text-slate-600" *ngIf="!unidade">Nenhuma unidade cadastrada até o momento.</p>
    <div *ngIf="unidade" class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-slate-700">
      <p><span class="font-semibold">Nome:</span> {{ unidade.nome }}</p>
      <p><span class="font-semibold">Telefone:</span> {{ unidade.telefone || 'Não informado' }}</p>
      <p><span class="font-semibold">E-mail:</span> {{ unidade.email || 'Não informado' }}</p>
      <p><span class="font-semibold">CEP:</span> {{ unidade.cep || 'Não informado' }}</p>
      <p class="md:col-span-2"><span class="font-semibold">Endereço:</span> {{ unidade.endereco }} {{ unidade.numeroEndereco }}</p>
      <p><span class="font-semibold">Bairro:</span> {{ unidade.bairro || 'Não informado' }}</p>
      <p><span class="font-semibold">Cidade/Estado:</span> {{ unidade.cidade || 'Sem cidade' }} / {{ unidade.estado || 'UF' }}</p>
      <p class="md:col-span-2"><span class="font-semibold">Observações:</span> {{ unidade.observacoes || 'Nenhuma' }}</p>
    </div>
  </div>
</div>
