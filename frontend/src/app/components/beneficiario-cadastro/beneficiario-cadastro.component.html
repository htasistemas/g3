<section class="cadastro">
  <h2>Cadastro de Beneficiário</h2>
  <nav class="tabs">
    <button *ngFor="let tab of tabs" [class.active]="activeTab === tab.id" (click)="changeTab(tab.id)">
      {{ tab.label }}
    </button>
  </nav>

  <form [formGroup]="form" (ngSubmit)="submit()">
    <div *ngIf="feedback" class="feedback">{{ feedback }}</div>

    <div class="tab-content" *ngIf="activeTab === 'dados'" formGroupName="dadosPessoais">
      <label>Nome completo*<input formControlName="nome_completo" /></label>
      <label>Nome social<input formControlName="nome_social" /></label>
      <label>Apelido<input formControlName="apelido" /></label>
      <label>Data de nascimento*<input type="date" formControlName="data_nascimento" /></label>
      <label>Sexo biológico<select formControlName="sexo_biologico"><option value=""></option><option value="MASCULINO">Masculino</option><option value="FEMININO">Feminino</option><option value="OUTRO">Outro</option></select></label>
      <label>Identidade de gênero<input formControlName="identidade_genero" /></label>
      <label>Cor/Raça<select formControlName="cor_raca"><option value=""></option><option value="BRANCA">Branca</option><option value="PRETA">Preta</option><option value="PARDA">Parda</option><option value="AMARELA">Amarela</option><option value="INDIGENA">Indígena</option><option value="NAO_INFORMADO">Não informado</option></select></label>
      <label>Estado civil<input formControlName="estado_civil" /></label>
      <label>Nacionalidade<input formControlName="nacionalidade" /></label>
      <label>Naturalidade (cidade)<input formControlName="naturalidade_cidade" /></label>
      <label>UF<input maxlength="2" formControlName="naturalidade_uf" /></label>
      <label>Nome da mãe*<input formControlName="nome_mae" /></label>
      <label>Nome do pai<input formControlName="nome_pai" /></label>
    </div>

    <div class="tab-content" *ngIf="activeTab === 'endereco'" formGroupName="endereco">
      <label><input type="checkbox" formControlName="usa_endereco_familia" /> Usar endereço da família</label>
      <label>CEP<input formControlName="cep" /></label>
      <label>Logradouro<input formControlName="logradouro" /></label>
      <label>Número<input formControlName="numero" /></label>
      <label>Complemento<input formControlName="complemento" /></label>
      <label>Bairro<input formControlName="bairro" /></label>
      <label>Ponto de referência<input formControlName="ponto_referencia" /></label>
      <label>Município<input formControlName="municipio" /></label>
      <label>UF<input maxlength="2" formControlName="uf" /></label>
      <label>Zona<select formControlName="zona"><option value=""></option><option value="URBANA">Urbana</option><option value="RURAL">Rural</option></select></label>
      <label>Situação do imóvel<input formControlName="situacao_imovel" /></label>
      <label>Tipo de moradia<input formControlName="tipo_moradia" /></label>
      <label><input type="checkbox" formControlName="agua_encanada" /> Água encanada</label>
      <label>Esgoto<select formControlName="esgoto_tipo"><option value=""></option><option value="REDE">Rede</option><option value="FOSSA">Fossa</option><option value="CEU_ABERTO">Céu aberto</option><option value="NAO_POSSUI">Não possui</option></select></label>
      <label>Coleta de lixo<select formControlName="coleta_lixo"><option value=""></option><option value="REGULAR">Regular</option><option value="IRREGULAR">Irregular</option><option value="NAO_POSSUI">Não possui</option></select></label>
      <label><input type="checkbox" formControlName="energia_eletrica" /> Energia elétrica</label>
      <label><input type="checkbox" formControlName="internet" /> Internet</label>
    </div>

    <div class="tab-content" *ngIf="activeTab === 'contato'" formGroupName="contato">
      <label>Telefone principal<input formControlName="telefone_principal" /></label>
      <label><input type="checkbox" formControlName="telefone_principal_whatsapp" /> WhatsApp</label>
      <label>Telefone secundário<input formControlName="telefone_secundario" /></label>
      <label>Nome para recado<input formControlName="telefone_recado_nome" /></label>
      <label>Telefone para recado<input formControlName="telefone_recado_numero" /></label>
      <label>Email<input type="email" formControlName="email" /></label>
      <label>Horário preferencial<input formControlName="horario_preferencial_contato" /></label>
      <label><input type="checkbox" formControlName="permite_contato_tel" /> Permite contato telefônico</label>
      <label><input type="checkbox" formControlName="permite_contato_whatsapp" /> Permite WhatsApp</label>
      <label><input type="checkbox" formControlName="permite_contato_sms" /> Permite SMS</label>
      <label><input type="checkbox" formControlName="permite_contato_email" /> Permite email</label>
    </div>

    <div class="tab-content" *ngIf="activeTab === 'documentos'" formGroupName="documentos">
      <label>CPF<input formControlName="cpf" /></label>
      <label>RG número<input formControlName="rg_numero" /></label>
      <label>Órgão emissor<input formControlName="rg_orgao_emissor" /></label>
      <label>UF<input maxlength="2" formControlName="rg_uf" /></label>
      <label>Data emissão<input type="date" formControlName="rg_data_emissao" /></label>
      <label>NIS<input formControlName="nis" /></label>
      <label>Certidão tipo<input formControlName="certidao_tipo" /></label>
      <label>Livro<input formControlName="certidao_livro" /></label>
      <label>Folha<input formControlName="certidao_folha" /></label>
      <label>Termo<input formControlName="certidao_termo" /></label>
      <label>Cartório<input formControlName="certidao_cartorio" /></label>
      <label>Município<input formControlName="certidao_municipio" /></label>
      <label>UF<input maxlength="2" formControlName="certidao_uf" /></label>
      <label>Título de eleitor<input formControlName="titulo_eleitor" /></label>
      <label>CNH<input formControlName="cnh" /></label>
      <label>Cartão SUS<input formControlName="cartao_sus" /></label>
    </div>

    <div class="tab-content" *ngIf="activeTab === 'familiar'" formGroupName="familiar">
      <label><input type="checkbox" formControlName="mora_com_familia" /> Mora com a família</label>
      <label><input type="checkbox" formControlName="responsavel_legal" /> Responsável legal</label>
      <label>Vínculo familiar<input formControlName="vinculo_familiar" /></label>
      <label>Situação de vulnerabilidade<textarea formControlName="situacao_vulnerabilidade"></textarea></label>
    </div>

    <div class="tab-content" *ngIf="activeTab === 'escolaridade'" formGroupName="escolaridade">
      <label><input type="checkbox" formControlName="sabe_ler_escrever" /> Sabe ler e escrever</label>
      <label>Nível de escolaridade<input formControlName="nivel_escolaridade" /></label>
      <label><input type="checkbox" formControlName="estuda_atualmente" /> Estuda atualmente</label>
      <label>Ocupação<input formControlName="ocupacao" /></label>
      <label>Situação de trabalho<input formControlName="situacao_trabalho" /></label>
      <label>Local de trabalho<input formControlName="local_trabalho" /></label>
      <label>Renda mensal<input type="number" formControlName="renda_mensal" /></label>
      <label>Fonte de renda<input formControlName="fonte_renda" /></label>
    </div>

    <div class="tab-content" *ngIf="activeTab === 'saude'" formGroupName="saude">
      <label><input type="checkbox" formControlName="possui_deficiencia" /> Possui deficiência</label>
      <label>Tipo de deficiência<input formControlName="tipo_deficiencia" /></label>
      <label>CID principal<input formControlName="cid_principal" /></label>
      <label><input type="checkbox" formControlName="usa_medicacao_continua" /> Usa medicação contínua</label>
      <label>Descrição da medicação<textarea formControlName="descricao_medicacao"></textarea></label>
      <label>Serviço de saúde de referência<input formControlName="servico_saude_referencia" /></label>
    </div>

    <div class="tab-content" *ngIf="activeTab === 'beneficios'" formGroupName="beneficios">
      <label><input type="checkbox" formControlName="recebe_beneficio" /> Recebe benefício</label>
      <label>Descrição dos benefícios<textarea formControlName="beneficios_descricao"></textarea></label>
      <label>Valor total<input type="number" formControlName="valor_total_beneficios" /></label>
    </div>

    <div class="tab-content" *ngIf="activeTab === 'observacoes'" formGroupName="observacoes">
      <label><input type="checkbox" formControlName="aceite_lgpd" /> Aceite LGPD</label>
      <label>Data do aceite<input type="datetime-local" formControlName="data_aceite_lgpd" /></label>
      <label>Observações<textarea formControlName="observacoes"></textarea></label>
    </div>

    <div class="actions">
      <button type="submit" [disabled]="saving">Salvar</button>
    </div>
  </form>
</section>
