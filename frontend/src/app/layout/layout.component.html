<div class="h-screen flex bg-slate-100 overflow-hidden">
  <aside class="w-72 bg-white border-r border-slate-200 shadow-sm hidden md:block flex-shrink-0 overflow-y-auto">
    <div class="p-4 border-b border-slate-200 flex items-start justify-between gap-3">
      <div>
        <h2 class="text-xl font-semibold text-slate-800">Navegação</h2>
        <p class="text-xs text-slate-500">Menus prontos para receber componentes</p>
      </div>
      <div class="text-right">
        <span class="block text-[10px] uppercase tracking-wide text-slate-400">Versão</span>
        <span class="inline-flex items-center px-2 py-1 text-xs font-semibold rounded-lg bg-slate-100 text-slate-700">v{{
          version
        }}</span>
      </div>
    </div>
    <nav class="p-4 space-y-3">
      <div *ngFor="let section of menuSections" class="border border-slate-200 rounded-xl bg-white shadow-sm overflow-hidden">
        <button
          type="button"
          (click)="toggleSection(section.label)"
          class="w-full flex items-center justify-between px-4 py-3 text-sm font-semibold text-slate-700 hover:bg-slate-50 transition"
        >
          <span class="flex items-center space-x-3">
            <fa-icon [icon]="section.icon" class="text-g3-green-500"></fa-icon>
            <span>{{ section.label }}</span>
          </span>
          <fa-icon [icon]="openSection === section.label ? faChevronUp : faChevronDown" class="text-slate-400"></fa-icon>
        </button>

        <div *ngIf="openSection === section.label" class="bg-slate-50 border-t border-slate-200">
          <ng-container *ngFor="let child of section.children">
            <a
              *ngIf="child.route; else staticChild"
              [routerLink]="child.route"
              class="flex items-center px-4 py-2 text-sm text-slate-600 hover:bg-white hover:text-slate-800 transition cursor-pointer"
            >
              <fa-icon [icon]="child.icon" class="mr-3 text-slate-500"></fa-icon>
              <span>{{ child.label }}</span>
            </a>
            <ng-template #staticChild>
              <div class="flex items-center px-4 py-2 text-sm text-slate-600">
                <fa-icon [icon]="child.icon" class="mr-3 text-slate-500"></fa-icon>
                <span>{{ child.label }}</span>
              </div>
            </ng-template>
          </ng-container>
        </div>
      </div>
    </nav>
  </aside>

  <div class="flex-1 flex flex-col min-w-0 h-screen">
    <header class="bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between shadow-sm flex-shrink-0">
      <div>
        <h1 class="text-lg font-semibold text-slate-800">Painel Principal</h1>
        <p class="text-sm text-slate-500">Monte novas telas dentro deste layout.</p>
      </div>
      <div class="flex items-center space-x-4 text-sm text-slate-600">
        <span class="flex items-center space-x-2">
          <fa-icon [icon]="faUserCircle" class="text-slate-500"></fa-icon>
          <span class="capitalize">{{ username }}</span>
        </span>
        <button
          (click)="logout()"
          class="inline-flex items-center space-x-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-slate-700"
        >
          <fa-icon [icon]="faRightFromBracket"></fa-icon>
          <span>Sair</span>
        </button>
      </div>
    </header>
    <main class="flex-1 overflow-y-auto">
      <div class="max-w-7xl mx-auto">
        <router-outlet></router-outlet>
      </div>
    </main>
  </div>
</div>
