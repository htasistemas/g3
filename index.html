<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G3 - Sistema de Gestão de Assistência Social</title>
    <!-- Configuração do Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configuração da fonte Inter (padrão) -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body { font-family: 'Inter', sans-serif; }
        /* CSS customizado para o spinner de carregamento */
        #loadingSpinner { border-top-color: transparent; }
    </style>
    <!-- Configuração de cores Tailwind para o verde escuro (G3 Green) -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'g3-green': {
                            // Verde Escuro (Dark Forest Green)
                            700: '#064e3b', 
                            600: '#047857', 
                            500: '#10b981', 
                        },
                    },
                    backgroundImage: {
                        // Gradiente de Verde Escuro para Verde Base
                        'g3-gradient': 'linear-gradient(135deg, #064e3b 0%, #047857 100%)',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 antialiased">

    <!-- 1. Tela de Login - Layout 50/50 com Design Moderno -->
    <div id="loginView" class="min-h-screen flex">
        
        <!-- Coluna Esquerda: Formulário de Login (Branco) -->
        <div class="w-full md:w-1/2 flex items-center justify-center p-8 lg:p-16 bg-white transition-all duration-500">
            <div class="w-full max-w-md">
                <!-- Logotipo e Seletor de Idioma (Simulado) -->
                <div class="flex justify-between items-center mb-10">
                    <div class="flex items-center space-x-2">
                        <!-- Icone: Usuários -->
                        <svg class="h-8 w-8 text-g3-green-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-3m0 0v-5m0 5L12 10l-4 4-2 2"></path></svg>
                        <span class="text-2xl font-black text-g3-green-700">G3</span>
                    </div>
                    <!-- Seletor de Idioma Simulado -->
                    <div class="text-gray-500 text-sm flex items-center cursor-pointer hover:text-g3-green-600">
                        <!-- Icone: Globo -->
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 0110 12c0-1.052.128-2.071.36-3.048m.36 3.048l7 7m0-7l-7-7"></path></svg>
                        Português
                    </div>
                </div>

                <h2 class="text-3xl font-extrabold text-gray-900 mb-2">Entre com a sua conta</h2>
                <p class="text-gray-500 mb-8">Informe seus dados de acesso.</p>

                <form id="loginForm" class="space-y-6">
                    <!-- Área de Mensagens (Erros/Recuperação) -->
                    <div id="messageBox" class="p-3 rounded-xl text-sm transition-all duration-300 hidden" role="alert"></div>

                    <div class="relative">
                        <label for="usuario" class="block text-sm font-medium text-gray-700 mb-1">Usuário / E-mail</label>
                        <input type="text" id="usuario" class="w-full px-5 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-g3-green-500 focus:border-g3-green-500 outline-none transition duration-200 shadow-inner" placeholder="Digite seu e-mail ou CPF" required>
                    </div>
                    <div class="relative">
                        <label for="senha" class="block text-sm font-medium text-gray-700 mb-1">Senha</label>
                        <input type="password" id="senha" class="w-full px-5 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-g3-green-500 focus:border-g3-green-500 outline-none transition duration-200 shadow-inner" placeholder="**********" required>
                    </div>

                    <!-- Botão de Entrar (Aplicando o gradiente G3) -->
                    <button type="submit" id="loginButton" class="w-full text-white py-3 px-4 rounded-xl font-bold text-lg shadow-lg bg-g3-gradient hover:shadow-xl hover:opacity-95 transition duration-300 flex items-center justify-center space-x-2">
                        <span>Entrar</span>
                        <!-- Spinner de Carregamento -->
                        <div id="loadingSpinner" class="hidden w-5 h-5 border-2 border-white border-t-transparent border-solid rounded-full animate-spin"></div>
                    </button>
                </form>

                <div class="mt-4 text-center">
                    <p class="text-sm text-gray-500 mb-2">Esqueceu a senha?</p>
                    <a href="#" class="text-sm font-semibold text-g3-green-600 hover:text-g3-green-700 transition duration-150 hover:underline" onclick="handleRecoverPassword(event)">
                        Tudo bem, clique aqui para recuperá-la
                    </a>
                </div>

                <!-- Informações de Rodapé (Simulado) -->
                <div class="mt-20 pt-6 border-t text-xs text-gray-400 text-center">
                    <p class="mb-2">ADRA UBERLÂNDIA</p>
                    <div class="flex justify-center space-x-4">
                        <a href="#" class="hover:text-g3-green-600">Termos de uso</a>
                        <span class="text-gray-300">|</span>
                        <a href="#" class="hover:text-g3-green-600">Política de privacidade</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Coluna Direita: Call to Action (Gradient G3) -->
        <div class="hidden md:flex md:w-1/2 items-center justify-center p-16 bg-g3-gradient shadow-inner-lg">
            <div class="text-center text-white p-6 rounded-lg">
                <h3 class="text-3xl font-extrabold mb-4">Ainda não possui uma conta?</h3>
                <p class="text-lg font-medium mb-8 opacity-90">Crie agora mesmo sua conta. É rápido e fácil.</p>
                <!-- Botão de CTA Secundário (Estilo Inverso) -->
                <button class="bg-transparent text-white border-2 border-white py-3 px-8 rounded-xl font-bold text-lg hover:bg-white hover:text-g3-green-700 transition duration-300 transform hover:scale-[1.05]" onclick="alertMessage('Função de Novo Cadastro não implementada.', 'info')">
                    Criar conta
                </button>
            </div>
        </div>
    </div>
    <!-- Fim da Tela de Login -->

    <!-- 2. Estrutura Principal do Sistema (Dashboard e Cadastro) -->
    <div id="mainView" class="hidden min-h-screen flex" style="transition: all 0.3s ease;">
        
        <!-- Menu Lateral (Sidebar) -->
        <aside id="sidebar" class="bg-g3-green-700 text-white w-64 md:w-56 space-y-6 py-7 px-2 absolute inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 transition duration-300 ease-in-out z-30 shadow-2xl">
            <!-- Título do Sistema (Removido o ícone para consistência) -->
            <a href="#" class="text-white text-xl font-bold flex items-center px-4">
                G3
            </a>

            <!-- Navegação com Menus Expansíveis (Sem Ícones e Fontes Reduzidas) -->
            <nav>
                <!-- Bloco 1: Visão Geral -->
                <p class="text-xs font-bold opacity-75 mt-4 mb-2 px-4">VISÃO GERAL</p>
                <!-- Item 1: Dashboard -->
                <a href="#" class="block py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm" onclick="setView('dashboard')">
                    Dashboard
                </a>
                
                <!-- Divisor Visual entre Blocos -->
                <div class="border-t border-g3-green-600 mx-4 my-3 opacity-50"></div>

                <!-- Bloco 2: Gestão de Pessoas e Atendimento (Expansível) -->
                <p class="text-xs font-bold opacity-75 mt-4 mb-2 px-4">PESSOAS E ATENDIMENTO</p>
                
                <!-- Item: Beneficiários (Menu Expansível) -->
                <div class="mt-1">
                    <button class="w-full text-left py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm flex justify-between items-center" data-submenu="beneficiarios-menu">
                        <span>Beneficiários</span>
                        <svg class="w-3 h-3 transform transition-transform duration-300" data-arrow="beneficiarios-menu" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <!-- Submenu -->
                    <div id="beneficiarios-menu" class="hidden pl-8 overflow-hidden transition-all duration-300 ease-in-out max-h-0">
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('cadastro')">Cadastro de Beneficiário</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('lista-consulta-beneficiario')">Lista e Consulta</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('documentos-anexos')">Documentos e Anexos</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('historico-atendimentos')">Histórico de Atendimentos</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('avaliacao-social')">Avaliação Social</a>
                    </div>
                </div>

                <!-- Item: Famílias e Domicílios (Menu Expansível) -->
                <div class="mt-1">
                    <button class="w-full text-left py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm flex justify-between items-center" data-submenu="familias-menu">
                        <span>Famílias e Domicílios</span>
                        <svg class="w-3 h-3 transform transition-transform duration-300" data-arrow="familias-menu" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <!-- Submenu -->
                    <div id="familias-menu" class="hidden pl-8 overflow-hidden transition-all duration-300 ease-in-out max-h-0">
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('cadastro-familias')">Cadastro de Famílias</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('condicoes-habitacionais')">Condições Habitacionais</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('acompanhamento-familiar')">Acompanhamento Familiar</a>
                    </div>
                </div>

                <!-- Item: Atendimentos Sociais (Menu Expansível) -->
                <div class="mt-1">
                    <button class="w-full text-left py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm flex justify-between items-center" data-submenu="atendimentos-menu">
                        <span>Atendimentos Sociais</span>
                        <svg class="w-3 h-3 transform transition-transform duration-300" data-arrow="atendimentos-menu" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <!-- Submenu -->
                    <div id="atendimentos-menu" class="hidden pl-8 overflow-hidden transition-all duration-300 ease-in-out max-h-0">
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('registrar-atendimento')">Registrar Atendimento</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('relatorio-visita')">Relatório de Visita Domiciliar</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('acompanhamento-continuo')">Acompanhamentos Contínuos</a>
                    </div>
                </div>
                
                <!-- Divisor Visual entre Blocos -->
                <div class="border-t border-g3-green-600 mx-4 my-3 opacity-50"></div>

                <!-- Bloco 3: Gestão Operacional e de Recursos (Expansível) -->
                <p class="text-xs font-bold opacity-75 mt-4 mb-2 px-4">OPERAÇÃO E RECURSOS</p>

                <!-- Item: Programas e Projetos (Menu Expansível) -->
                <div class="mt-1">
                    <button class="w-full text-left py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm flex justify-between items-center" data-submenu="programas-menu">
                        <span>Programas e Projetos</span>
                        <svg class="w-3 h-3 transform transition-transform duration-300" data-arrow="programas-menu" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <!-- Submenu -->
                    <div id="programas-menu" class="hidden pl-8 overflow-hidden transition-all duration-300 ease-in-out max-h-0">
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('cadastro-programas')">Cadastro de Programas</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('inclusao-beneficiarios')">Inclusão de Beneficiários</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('metas-resultados')">Metas e Resultados</a>
                    </div>
                </div>

                 <!-- Item: Benefícios e Auxílios (Menu Expansível) -->
                <div class="mt-1">
                    <button class="w-full text-left py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm flex justify-between items-center" data-submenu="beneficios-menu">
                        <span>Benefícios e Auxílios</span>
                        <svg class="w-3 h-3 transform transition-transform duration-300" data-arrow="beneficios-menu" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <!-- Submenu -->
                    <div id="beneficios-menu" class="hidden pl-8 overflow-hidden transition-all duration-300 ease-in-out max-h-0">
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('cadastro-beneficios')">Cadastro de Benefícios</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('solicitacoes-auxilio')">Solicitações de Auxílio</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('controle-estoque')">Controle de Estoque</a>
                    </div>
                </div>

                <!-- Item: Serviços e Oficinas (Menu Expansível) -->
                <div class="mt-1">
                    <button class="w-full text-left py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm flex justify-between items-center" data-submenu="servicos-menu">
                        <span>Serviços e Oficinas</span>
                        <svg class="w-3 h-3 transform transition-transform duration-300" data-arrow="servicos-menu" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <!-- Submenu -->
                    <div id="servicos-menu" class="hidden pl-8 overflow-hidden transition-all duration-300 ease-in-out max-h-0">
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('grade-atividades')">Grade de Atividades</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('inscricoes-frequencia')">Inscrições e Frequência</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('avaliacoes-oficinas')">Avaliações das Oficinas</a>
                    </div>
                </div>

                <!-- Divisor Visual entre Blocos -->
                <div class="border-t border-g3-green-600 mx-4 my-3 opacity-50"></div>
                
                <!-- Bloco 4: Administração e Suporte (Expansível) -->
                <p class="text-xs font-bold opacity-75 mt-4 mb-2 px-4">ADMINISTRAÇÃO E SUPORTE</p>
                
                <!-- Item: Documentos e Relatórios (Menu Expansível) -->
                <div class="mt-1">
                    <button class="w-full text-left py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm flex justify-between items-center" data-submenu="relatorios-menu">
                        <span>Documentos e Relatórios</span>
                        <svg class="w-3 h-3 transform transition-transform duration-300" data-arrow="relatorios-menu" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <!-- Submenu -->
                    <div id="relatorios-menu" class="hidden pl-8 overflow-hidden transition-all duration-300 ease-in-out max-h-0">
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('relatorios-gerenciais')">Relatórios Gerenciais</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('impressoes-oficiais')">Impressões Oficiais</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('upload-organizacao')">Upload e Organização</a>
                    </div>
                </div>

                 <!-- Item: Administração (Menu Expansível) -->
                <div class="mt-1">
                    <button class="w-full text-left py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm flex justify-between items-center" data-submenu="admin-menu">
                        <span>Administração</span>
                        <svg class="w-3 h-3 transform transition-transform duration-300" data-arrow="admin-menu" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <!-- Submenu -->
                    <div id="admin-menu" class="hidden pl-8 overflow-hidden transition-all duration-300 ease-in-out max-h-0">
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('controle-usuarios')">Controle de Usuários</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('perfis-permissoes')">Perfis e Permissões</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('auditoria-logs')">Auditoria e Logs</a>
                    </div>
                </div>

                <!-- Item: Indicadores e Monitoramento -->
                <a href="#" class="block py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm mt-1" onclick="setView('indicadores')">
                    Indicadores e Monitoramento
                </a>
            </nav>
        </aside>
        
        <!-- Área de Conteúdo (Header e Views) -->
        <div class="flex-1 flex flex-col overflow-hidden">
            
            <!-- Cabeçalho Superior -->
            <header class="flex items-center justify-between bg-white shadow-md p-4 sticky top-0 z-20">
                <div class="flex items-center">
                    <!-- Botão para abrir o menu em dispositivos móveis -->
                    <button id="menuButton" class="text-gray-500 focus:outline-none focus:text-gray-700 md:hidden mr-4">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    </button>
                    <h2 id="viewTitle" class="text-2xl font-semibold text-gray-800">Dashboard</h2>
                </div>
                
                <div class="flex items-center space-x-4">
                    <span id="userNameDisplay" class="text-gray-700 font-medium hidden sm:inline">Bem-vindo(a), <span class="font-bold">Usuário G3</span></span>
                    
                    <!-- Ícone de Configurações -->
                    <button class="text-gray-500 hover:text-g3-green-600 p-2 rounded-full hover:bg-gray-100 transition duration-150">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37a1.724 1.724 0 002.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                    </button>

                    <!-- Botão de Sair -->
                    <button class="flex items-center text-white bg-red-500 py-2 px-3 rounded-lg hover:bg-red-600 transition duration-150 shadow-md" onclick="logout()">
                        <span class="hidden md:inline font-semibold mr-1">Sair</span>
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3v-5a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>
                    </button>
                </div>
            </header>

            <!-- Área de Visualização das Telas -->
            <main class="flex-1 overflow-x-hidden overflow-y-auto p-6 md:p-8">
                
                <!-- 2a. Tela Principal (Dashboard) -->
                <div id="dashboard" class="view">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Visão Geral de Atendimentos</h1>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <!-- Card 1: Total de Beneficiários -->
                        <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-g3-green-500">
                            <p class="text-sm font-medium text-gray-500">Total de Beneficiários</p>
                            <p class="text-3xl font-extrabold text-gray-900 mt-1">1,250</p>
                            <span class="text-xs text-green-500">+12% este mês</span>
                        </div>
                        <!-- Card 2: Programas Ativos -->
                        <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-blue-500">
                            <p class="text-sm font-medium text-gray-500">Programas Ativos</p>
                            <p class="text-3xl font-extrabold text-gray-900 mt-1">15</p>
                            <span class="text-xs text-blue-500">Última atualização: 01/11</span>
                        </div>
                        <!-- Card 3: Cadastros Pendentes -->
                        <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-yellow-500">
                            <p class="text-sm font-medium text-gray-500">Cadastros Pendentes</p>
                            <p class="text-3xl font-extrabold text-gray-900 mt-1">45</p>
                            <span class="text-xs text-yellow-500">Requerem análise</span>
                        </div>
                        <!-- Card 4: Alertas de Risco -->
                        <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-red-500">
                            <p class="text-sm font-medium text-gray-500">Alertas de Risco</p>
                            <p class="text-3xl font-extrabold text-gray-900 mt-1">5</p>
                            <span class="text-xs text-red-500">Urgente</span>
                        </div>
                    </div>

                    <!-- Gráfico e Tabela (Simulados) -->
                    <div class="mt-8 bg-white p-6 rounded-xl shadow-lg">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">Gráficos de Evolução dos Beneficiários</h3>
                        <div class="h-64 flex items-center justify-center text-gray-400 border border-dashed rounded-lg">
                            [Área para Gráfico de Evolução (Placeholder)]
                        </div>
                    </div>

                    <!-- Alertas e Pendências (Simulados) -->
                    <div class="mt-8 bg-white p-6 rounded-xl shadow-lg">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">Alertas e Pendências</h3>
                        <ul class="space-y-3">
                            <li class="p-3 bg-red-50 rounded-lg border border-red-200 text-red-700 text-sm">Atenção: 3 famílias em situação de extrema vulnerabilidade precisam de visita imediata.</li>
                            <li class="p-3 bg-yellow-50 rounded-lg border border-yellow-200 text-yellow-700 text-sm">Pendência: Faltam documentos de identificação para 12 cadastros (Ver Lista e Consulta).</li>
                        </ul>
                    </div>
                </div>
                
                <!-- 3. Telas dos Novos Módulos (Placeholders) -->

                <!-- Módulo: Beneficiários (Cadastro já estava) -->
                <div id="cadastro" class="view hidden">
                    <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2">Novo Cadastro de Beneficiário</h3>
                        <p class="text-gray-600 mb-6">Preencha os campos abaixo com as informações do beneficiário.</p>

                        <form id="beneficiarioForm">
                            <!-- Seção 1: Dados Pessoais (Ícones removidos) -->
                            <div class="mb-8 border border-gray-200 rounded-xl p-6 bg-green-50/50">
                                <h4 class="text-lg font-semibold text-g3-green-600 mb-4 border-b border-g3-green-200 pb-2">
                                    Dados Pessoais
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <!-- Nome Completo -->
                                    <div class="col-span-1 md:col-span-3">
                                        <label for="nome" class="block text-sm font-medium text-gray-700 mb-1">Nome Completo</label>
                                        <input type="text" id="nome" class="w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                                    </div>
                                    <!-- CPF -->
                                    <div>
                                        <label for="cpf" class="block text-sm font-medium text-gray-700 mb-1">CPF</label>
                                        <input type="text" id="cpf" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="000.000.000-00" required>
                                    </div>
                                    <!-- RG -->
                                    <div>
                                        <label for="rg" class="block text-sm font-medium text-gray-700 mb-1">RG</label>
                                        <input type="text" id="rg" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    </div>
                                    <!-- Data de Nascimento -->
                                    <div>
                                        <label for="dataNascimento" class="block text-sm font-medium text-gray-700 mb-1">Data de Nascimento</label>
                                        <input type="date" id="dataNascimento" class="w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                                    </div>
                                    <!-- Sexo -->
                                    <div>
                                        <label for="sexo" class="block text-sm font-medium text-gray-700 mb-1">Sexo</label>
                                        <select id="sexo" class="w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                                            <option value="">Selecione</option>
                                            <option value="M">Masculino</option>
                                            <option value="F">Feminino</option>
                                            <option value="O">Outro</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Seção 2: Endereço (Ícones removidos) -->
                            <div class="mb-8 border border-gray-200 rounded-xl p-6 bg-green-50/50">
                                <h4 class="text-lg font-semibold text-g3-green-600 mb-4 border-b border-g3-green-200 pb-2">
                                    Endereço
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                    <!-- CEP -->
                                    <div>
                                        <label for="cep" class="block text-sm font-medium text-gray-700 mb-1">CEP</label>
                                        <input type="text" id="cep" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="00000-000">
                                    </div>
                                    <!-- UF -->
                                    <div>
                                        <label for="uf" class="block text-sm font-medium text-gray-700 mb-1">UF</label>
                                        <select id="uf" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                            <option value="">--</option>
                                            <option value="MG">MG</option>
                                            <option value="SP">SP</option>
                                            <option value="RJ">RJ</option>
                                            <!-- Adicionar mais UFs se necessário -->
                                        </select>
                                    </div>
                                    <!-- Cidade -->
                                    <div class="col-span-1 md:col-span-2">
                                        <label for="cidade" class="block text-sm font-medium text-gray-700 mb-1">Cidade</label>
                                        <input type="text" id="cidade" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    </div>
                                    <!-- Rua -->
                                    <div class="col-span-1 md:col-span-3">
                                        <label for="rua" class="block text-sm font-medium text-gray-700 mb-1">Rua / Avenida</label>
                                        <input type="text" id="rua" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    </div>
                                    <!-- Número -->
                                    <div>
                                        <label for="numero" class="block text-sm font-medium text-gray-700 mb-1">Nº</label>
                                        <input type="text" id="numero" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    </div>
                                    <!-- Bairro -->
                                    <div class="col-span-1 md:col-span-2">
                                        <label for="bairro" class="block text-sm font-medium text-gray-700 mb-1">Bairro</label>
                                        <input type="text" id="bairro" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    </div>
                                </div>
                            </div>

                            <!-- Seção 3: Situação Socioeconômica e Programas (Ícones removidos) -->
                            <div class="mb-8 border border-gray-200 rounded-xl p-6 bg-green-50/50">
                                <h4 class="text-lg font-semibold text-g3-green-600 mb-4 border-b border-g3-green-200 pb-2">
                                    Socioeconômico e Programas
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <!-- Renda Familiar Mensal -->
                                    <div>
                                        <label for="renda" class="block text-sm font-medium text-gray-700 mb-1">Renda Familiar Mensal (R$)</label>
                                        <input type="number" id="renda" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="0.00">
                                    </div>
                                    <!-- Programas Sociais Vinculados -->
                                    <div>
                                        <label for="programas" class="block text-sm font-medium text-gray-700 mb-1">Programas Vinculados (Multi-seleção)</label>
                                        <select id="programas" multiple class="w-full px-3 py-2 border border-gray-300 rounded-lg h-24">
                                            <option value="bolsa">Bolsa Família</option>
                                            <option value="bpc">BPC</option>
                                            <option value="cesta">Cesta Básica</option>
                                            <option value="moradia">Auxílio Moradia</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <label for="observacoes" class="block text-sm font-medium text-gray-700 mb-1">Observações / Histórico Social</label>
                                    <textarea id="observacoes" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></textarea>
                                </div>
                            </div>

                            <!-- Seção 4: Upload de Documentos (Ícones removidos) -->
                            <div class="mb-8 border border-gray-200 rounded-xl p-6 bg-green-50/50">
                                <h4 class="text-lg font-semibold text-g3-green-600 mb-4 border-b border-g3-green-200 pb-2">
                                    Upload de Documentos
                                </h4>
                                <div class="flex items-center space-x-4">
                                    <input type="file" id="documento" class="block w-full text-sm text-gray-500
                                        file:mr-4 file:py-2 file:px-4
                                        file:rounded-full file:border-0
                                        file:text-sm file:font-semibold
                                        file:bg-g3-green-50 file:text-g3-green-700
                                        hover:file:bg-g3-green-100 transition duration-150
                                    ">
                                    <p class="text-xs text-gray-500">Máx. 5MB (PDF, JPG, PNG)</p>
                                </div>
                            </div>


                            <!-- Botões de Ação -->
                            <div class="flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4 border-t">
                                <button type="button" class="bg-gray-300 text-gray-800 font-semibold py-2 px-6 rounded-lg hover:bg-gray-400 transition duration-150 shadow-md" onclick="setView('dashboard')">
                                    Cancelar
                                </button>
                                <button type="button" class="bg-yellow-500 text-white font-semibold py-2 px-6 rounded-lg hover:bg-yellow-600 transition duration-150 shadow-md">
                                    Editar
                                </button>
                                <button type="submit" class="bg-g3-green-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-g3-green-700 transition duration-150 shadow-lg">
                                    Salvar Beneficiário
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Views de Placeholder para os novos itens de menu -->
                <div id="lista-consulta-beneficiario" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Lista e Consulta de Beneficiários</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Tabela de Beneficiários e Filtros de Busca]
                    </div>
                </div>

                <div id="documentos-anexos" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Documentos e Anexos</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Gerenciamento de Arquivos por Beneficiário]
                    </div>
                </div>

                <div id="historico-atendimentos" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Histórico de Atendimentos</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Linha do Tempo e Detalhes de Atendimentos]
                    </div>
                </div>
                
                <div id="avaliacao-social" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Avaliação Social</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Formulário de Avaliação e Geração de Parecer]
                    </div>
                </div>

                <!-- Módulo: Famílias e Domicílios -->
                <div id="cadastro-familias" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Cadastro de Famílias</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Formulário para cadastro de núcleo familiar e vínculo entre membros]
                    </div>
                </div>

                <div id="condicoes-habitacionais" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Condições Habitacionais</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Formulário de registro de condições da moradia]
                    </div>
                </div>

                <div id="acompanhamento-familiar" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Acompanhamento Familiar</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Histórico e Planejamento de Acompanhamentos]
                    </div>
                </div>

                <!-- Módulo: Atendimentos Sociais -->
                <div id="registrar-atendimento" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Registrar Novo Atendimento</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Formulário de Registro de Ação e Encaminhamentos]
                    </div>
                </div>

                <div id="relatorio-visita" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Relatório de Visita Domiciliar</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Criação e Arquivamento de Relatórios de Visita]
                    </div>
                </div>

                <div id="acompanhamento-continuo" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Acompanhamentos Contínuos</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Gerenciamento de Casos e Prazos de Reavaliação]
                    </div>
                </div>

                <!-- Módulo: Programas e Projetos -->
                <div id="cadastro-programas" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Cadastro de Programas e Projetos</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Formulário para criação de novos programas]
                    </div>
                </div>

                <div id="inclusao-beneficiarios" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Inclusão de Beneficiários em Programas</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Ferramenta de busca e inclusão em massa]
                    </div>
                </div>

                <div id="metas-resultados" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Metas e Resultados</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Painel de acompanhamento de KPIs dos programas]
                    </div>
                </div>

                <!-- Módulo: Benefícios e Auxílios -->
                <div id="cadastro-beneficios" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Cadastro de Benefícios e Auxílios</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Lista de auxílios e benefícios oferecidos]
                    </div>
                </div>

                <div id="solicitacoes-auxilio" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Solicitações de Auxílio (Aprovação / Avaliação)</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Fluxo de aprovação de novas solicitações]
                    </div>
                </div>

                <div id="controle-estoque" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Controle de Estoque (Benefícios Materiais)</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Inventário de itens (cestas básicas, roupas, etc.)]
                    </div>
                </div>

                <!-- Módulo: Serviços e Oficinas -->
                <div id="grade-atividades" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Grade de Atividades</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Calendário e agendamento de oficinas e serviços]
                    </div>
                </div>

                <div id="inscricoes-frequencia" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Inscrições e Frequência</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Lista de participantes e controle de presença]
                    </div>
                </div>

                <div id="avaliacoes-oficinas" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Avaliações das Oficinas</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Pesquisas de satisfação e relatórios de avaliação]
                    </div>
                </div>

                <!-- Divisor Visual entre Blocos -->
                <div class="border-t border-g3-green-600 mx-4 my-3 opacity-50"></div>

                <!-- Módulo: Documentos e Relatórios -->
                <p class="text-xs font-bold opacity-75 mt-4 mb-2 px-4">ADMINISTRAÇÃO E SUPORTE</p>

                <div id="relatorios-menu" class="mt-1">
                    <button class="w-full text-left py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm flex justify-between items-center" data-submenu="relatorios-menu">
                        <span>Documentos e Relatórios</span>
                        <svg class="w-3 h-3 transform transition-transform duration-300" data-arrow="relatorios-menu" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <!-- Submenu -->
                    <div id="relatorios-menu" class="hidden pl-8 overflow-hidden transition-all duration-300 ease-in-out max-h-0">
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('relatorios-gerenciais')">Relatórios Gerenciais</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('impressoes-oficiais')">Impressões Oficiais</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('upload-organizacao')">Upload e Organização</a>
                    </div>
                </div>

                 <!-- Item: Administração (Menu Expansível) -->
                <div class="mt-1">
                    <button class="w-full text-left py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm flex justify-between items-center" data-submenu="admin-menu">
                        <span>Administração</span>
                        <svg class="w-3 h-3 transform transition-transform duration-300" data-arrow="admin-menu" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <!-- Submenu -->
                    <div id="admin-menu" class="hidden pl-8 overflow-hidden transition-all duration-300 ease-in-out max-h-0">
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('controle-usuarios')">Controle de Usuários</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('perfis-permissoes')">Perfis e Permissões</a>
                        <a href="#" class="block py-1.5 text-xs transition duration-200 hover:text-green-200" onclick="setView('auditoria-logs')">Auditoria e Logs</a>
                    </div>
                </div>

                <!-- Item: Indicadores e Monitoramento -->
                <a href="#" class="block py-2 px-4 rounded-lg transition duration-200 hover:bg-g3-green-600 font-medium text-sm mt-1" onclick="setView('indicadores')">
                    Indicadores e Monitoramento
                </a>
            </nav>
        </aside>
        
        <!-- Área de Conteúdo (Header e Views) -->
        <div class="flex-1 flex flex-col overflow-hidden">
            
            <!-- Cabeçalho Superior -->
            <header class="flex items-center justify-between bg-white shadow-md p-4 sticky top-0 z-20">
                <div class="flex items-center">
                    <!-- Botão para abrir o menu em dispositivos móveis -->
                    <button id="menuButton" class="text-gray-500 focus:outline-none focus:text-gray-700 md:hidden mr-4">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    </button>
                    <h2 id="viewTitle" class="text-2xl font-semibold text-gray-800">Dashboard</h2>
                </div>
                
                <div class="flex items-center space-x-4">
                    <span id="userNameDisplay" class="text-gray-700 font-medium hidden sm:inline">Bem-vindo(a), <span class="font-bold">Usuário G3</span></span>
                    
                    <!-- Ícone de Configurações -->
                    <button class="text-gray-500 hover:text-g3-green-600 p-2 rounded-full hover:bg-gray-100 transition duration-150">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37a1.724 1.724 0 002.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                    </button>

                    <!-- Botão de Sair -->
                    <button class="flex items-center text-white bg-red-500 py-2 px-3 rounded-lg hover:bg-red-600 transition duration-150 shadow-md" onclick="logout()">
                        <span class="hidden md:inline font-semibold mr-1">Sair</span>
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3v-5a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>
                    </button>
                </div>
            </header>

            <!-- Área de Visualização das Telas -->
            <main class="flex-1 overflow-x-hidden overflow-y-auto p-6 md:p-8">
                
                <!-- 2a. Tela Principal (Dashboard) -->
                <div id="dashboard" class="view">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Visão Geral de Atendimentos</h1>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <!-- Card 1: Total de Beneficiários -->
                        <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-g3-green-500">
                            <p class="text-sm font-medium text-gray-500">Total de Beneficiários</p>
                            <p class="text-3xl font-extrabold text-gray-900 mt-1">1,250</p>
                            <span class="text-xs text-green-500">+12% este mês</span>
                        </div>
                        <!-- Card 2: Programas Ativos -->
                        <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-blue-500">
                            <p class="text-sm font-medium text-gray-500">Programas Ativos</p>
                            <p class="text-3xl font-extrabold text-gray-900 mt-1">15</p>
                            <span class="text-xs text-blue-500">Última atualização: 01/11</span>
                        </div>
                        <!-- Card 3: Cadastros Pendentes -->
                        <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-yellow-500">
                            <p class="text-sm font-medium text-gray-500">Cadastros Pendentes</p>
                            <p class="text-3xl font-extrabold text-gray-900 mt-1">45</p>
                            <span class="text-xs text-yellow-500">Requerem análise</span>
                        </div>
                        <!-- Card 4: Alertas de Risco -->
                        <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-red-500">
                            <p class="text-sm font-medium text-gray-500">Alertas de Risco</p>
                            <p class="text-3xl font-extrabold text-gray-900 mt-1">5</p>
                            <span class="text-xs text-red-500">Urgente</span>
                        </div>
                    </div>

                    <!-- Gráfico e Tabela (Simulados) -->
                    <div class="mt-8 bg-white p-6 rounded-xl shadow-lg">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">Gráficos de Evolução dos Beneficiários</h3>
                        <div class="h-64 flex items-center justify-center text-gray-400 border border-dashed rounded-lg">
                            [Área para Gráfico de Evolução (Placeholder)]
                        </div>
                    </div>

                    <!-- Alertas e Pendências (Simulados) -->
                    <div class="mt-8 bg-white p-6 rounded-xl shadow-lg">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">Alertas e Pendências</h3>
                        <ul class="space-y-3">
                            <li class="p-3 bg-red-50 rounded-lg border border-red-200 text-red-700 text-sm">Atenção: 3 famílias em situação de extrema vulnerabilidade precisam de visita imediata.</li>
                            <li class="p-3 bg-yellow-50 rounded-lg border border-yellow-200 text-yellow-700 text-sm">Pendência: Faltam documentos de identificação para 12 cadastros (Ver Lista e Consulta).</li>
                        </ul>
                    </div>
                </div>
                
                <!-- 3. Telas dos Novos Módulos (Placeholders) -->

                <!-- Módulo: Beneficiários (Cadastro já estava) -->
                <div id="cadastro" class="view hidden">
                    <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2">Novo Cadastro de Beneficiário</h3>
                        <p class="text-gray-600 mb-6">Preencha os campos abaixo com as informações do beneficiário.</p>

                        <form id="beneficiarioForm">
                            <!-- Seção 1: Dados Pessoais (Ícones removidos) -->
                            <div class="mb-8 border border-gray-200 rounded-xl p-6 bg-green-50/50">
                                <h4 class="text-lg font-semibold text-g3-green-600 mb-4 border-b border-g3-green-200 pb-2">
                                    Dados Pessoais
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <!-- Nome Completo -->
                                    <div class="col-span-1 md:col-span-3">
                                        <label for="nome" class="block text-sm font-medium text-gray-700 mb-1">Nome Completo</label>
                                        <input type="text" id="nome" class="w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                                    </div>
                                    <!-- CPF -->
                                    <div>
                                        <label for="cpf" class="block text-sm font-medium text-gray-700 mb-1">CPF</label>
                                        <input type="text" id="cpf" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="000.000.000-00" required>
                                    </div>
                                    <!-- RG -->
                                    <div>
                                        <label for="rg" class="block text-sm font-medium text-gray-700 mb-1">RG</label>
                                        <input type="text" id="rg" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    </div>
                                    <!-- Data de Nascimento -->
                                    <div>
                                        <label for="dataNascimento" class="block text-sm font-medium text-gray-700 mb-1">Data de Nascimento</label>
                                        <input type="date" id="dataNascimento" class="w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                                    </div>
                                    <!-- Sexo -->
                                    <div>
                                        <label for="sexo" class="block text-sm font-medium text-gray-700 mb-1">Sexo</label>
                                        <select id="sexo" class="w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                                            <option value="">Selecione</option>
                                            <option value="M">Masculino</option>
                                            <option value="F">Feminino</option>
                                            <option value="O">Outro</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Seção 2: Endereço (Ícones removidos) -->
                            <div class="mb-8 border border-gray-200 rounded-xl p-6 bg-green-50/50">
                                <h4 class="text-lg font-semibold text-g3-green-600 mb-4 border-b border-g3-green-200 pb-2">
                                    Endereço
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                    <!-- CEP -->
                                    <div>
                                        <label for="cep" class="block text-sm font-medium text-gray-700 mb-1">CEP</label>
                                        <input type="text" id="cep" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="00000-000">
                                    </div>
                                    <!-- UF -->
                                    <div>
                                        <label for="uf" class="block text-sm font-medium text-gray-700 mb-1">UF</label>
                                        <select id="uf" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                            <option value="">--</option>
                                            <option value="MG">MG</option>
                                            <option value="SP">SP</option>
                                            <option value="RJ">RJ</option>
                                            <!-- Adicionar mais UFs se necessário -->
                                        </select>
                                    </div>
                                    <!-- Cidade -->
                                    <div class="col-span-1 md:col-span-2">
                                        <label for="cidade" class="block text-sm font-medium text-gray-700 mb-1">Cidade</label>
                                        <input type="text" id="cidade" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    </div>
                                    <!-- Rua -->
                                    <div class="col-span-1 md:col-span-3">
                                        <label for="rua" class="block text-sm font-medium text-gray-700 mb-1">Rua / Avenida</label>
                                        <input type="text" id="rua" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    </div>
                                    <!-- Número -->
                                    <div>
                                        <label for="numero" class="block text-sm font-medium text-gray-700 mb-1">Nº</label>
                                        <input type="text" id="numero" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    </div>
                                    <!-- Bairro -->
                                    <div class="col-span-1 md:col-span-2">
                                        <label for="bairro" class="block text-sm font-medium text-gray-700 mb-1">Bairro</label>
                                        <input type="text" id="bairro" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    </div>
                                </div>
                            </div>

                            <!-- Seção 3: Situação Socioeconômica e Programas (Ícones removidos) -->
                            <div class="mb-8 border border-gray-200 rounded-xl p-6 bg-green-50/50">
                                <h4 class="text-lg font-semibold text-g3-green-600 mb-4 border-b border-g3-green-200 pb-2">
                                    Socioeconômico e Programas
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <!-- Renda Familiar Mensal -->
                                    <div>
                                        <label for="renda" class="block text-sm font-medium text-gray-700 mb-1">Renda Familiar Mensal (R$)</label>
                                        <input type="number" id="renda" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="0.00">
                                    </div>
                                    <!-- Programas Sociais Vinculados -->
                                    <div>
                                        <label for="programas" class="block text-sm font-medium text-gray-700 mb-1">Programas Vinculados (Multi-seleção)</label>
                                        <select id="programas" multiple class="w-full px-3 py-2 border border-gray-300 rounded-lg h-24">
                                            <option value="bolsa">Bolsa Família</option>
                                            <option value="bpc">BPC</option>
                                            <option value="cesta">Cesta Básica</option>
                                            <option value="moradia">Auxílio Moradia</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <label for="observacoes" class="block text-sm font-medium text-gray-700 mb-1">Observações / Histórico Social</label>
                                    <textarea id="observacoes" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></textarea>
                                </div>
                            </div>

                            <!-- Seção 4: Upload de Documentos (Ícones removidos) -->
                            <div class="mb-8 border border-gray-200 rounded-xl p-6 bg-green-50/50">
                                <h4 class="text-lg font-semibold text-g3-green-600 mb-4 border-b border-g3-green-200 pb-2">
                                    Upload de Documentos
                                </h4>
                                <div class="flex items-center space-x-4">
                                    <input type="file" id="documento" class="block w-full text-sm text-gray-500
                                        file:mr-4 file:py-2 file:px-4
                                        file:rounded-full file:border-0
                                        file:text-sm file:font-semibold
                                        file:bg-g3-green-50 file:text-g3-green-700
                                        hover:file:bg-g3-green-100 transition duration-150
                                    ">
                                    <p class="text-xs text-gray-500">Máx. 5MB (PDF, JPG, PNG)</p>
                                </div>
                            </div>


                            <!-- Botões de Ação -->
                            <div class="flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4 border-t">
                                <button type="button" class="bg-gray-300 text-gray-800 font-semibold py-2 px-6 rounded-lg hover:bg-gray-400 transition duration-150 shadow-md" onclick="setView('dashboard')">
                                    Cancelar
                                </button>
                                <button type="button" class="bg-yellow-500 text-white font-semibold py-2 px-6 rounded-lg hover:bg-yellow-600 transition duration-150 shadow-md">
                                    Editar
                                </button>
                                <button type="submit" class="bg-g3-green-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-g3-green-700 transition duration-150 shadow-lg">
                                    Salvar Beneficiário
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Views de Placeholder para os novos itens de menu -->
                <div id="lista-consulta-beneficiario" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Lista e Consulta de Beneficiários</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Tabela de Beneficiários e Filtros de Busca]
                    </div>
                </div>

                <div id="documentos-anexos" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Documentos e Anexos</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Gerenciamento de Arquivos por Beneficiário]
                    </div>
                </div>

                <div id="historico-atendimentos" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Histórico de Atendimentos</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Linha do Tempo e Detalhes de Atendimentos]
                    </div>
                </div>
                
                <div id="avaliacao-social" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Avaliação Social</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Formulário de Avaliação e Geração de Parecer]
                    </div>
                </div>

                <!-- Módulo: Famílias e Domicílios -->
                <div id="cadastro-familias" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Cadastro de Famílias</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Formulário para cadastro de núcleo familiar e vínculo entre membros]
                    </div>
                </div>

                <div id="condicoes-habitacionais" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Condições Habitacionais</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Formulário de registro de condições da moradia]
                    </div>
                </div>

                <div id="acompanhamento-familiar" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Acompanhamento Familiar</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Histórico e Planejamento de Acompanhamentos]
                    </div>
                </div>

                <!-- Módulo: Atendimentos Sociais -->
                <div id="registrar-atendimento" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Registrar Novo Atendimento</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Formulário de Registro de Ação e Encaminhamentos]
                    </div>
                </div>

                <div id="relatorio-visita" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Relatório de Visita Domiciliar</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Criação e Arquivamento de Relatórios de Visita]
                    </div>
                </div>

                <div id="acompanhamento-continuo" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Acompanhamentos Contínuos</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Gerenciamento de Casos e Prazos de Reavaliação]
                    </div>
                </div>

                <!-- Módulo: Programas e Projetos -->
                <div id="cadastro-programas" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Cadastro de Programas e Projetos</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Formulário para criação de novos programas]
                    </div>
                </div>

                <div id="inclusao-beneficiarios" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Inclusão de Beneficiários em Programas</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Ferramenta de busca e inclusão em massa]
                    </div>
                </div>

                <div id="metas-resultados" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Metas e Resultados</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Painel de acompanhamento de KPIs dos programas]
                    </div>
                </div>

                <!-- Módulo: Benefícios e Auxílios -->
                <div id="cadastro-beneficios" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Cadastro de Benefícios e Auxílios</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Lista de auxílios e benefícios oferecidos]
                    </div>
                </div>

                <div id="solicitacoes-auxilio" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Solicitações de Auxílio (Aprovação / Avaliação)</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Fluxo de aprovação de novas solicitações]
                    </div>
                </div>

                <div id="controle-estoque" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Controle de Estoque (Benefícios Materiais)</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Inventário de itens (cestas básicas, roupas, etc.)]
                    </div>
                </div>

                <!-- Módulo: Serviços e Oficinas -->
                <div id="grade-atividades" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Grade de Atividades</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Calendário e agendamento de oficinas e serviços]
                    </div>
                </div>

                <div id="inscricoes-frequencia" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Inscrições e Frequência</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Lista de participantes e controle de presença]
                    </div>
                </div>

                <div id="avaliacoes-oficinas" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Avaliações das Oficinas</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Pesquisas de satisfação e relatórios de avaliação]
                    </div>
                </div>

                <!-- Módulo: Documentos e Relatórios -->
                <div id="relatorios-gerenciais" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Relatórios Gerenciais</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Geração de relatórios estratégicos (PDF/Excel)]
                    </div>
                </div>
                
                <div id="impressoes-oficiais" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Impressões Oficiais (Declarações, Fichas)</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Templates para impressão de documentos oficiais]
                    </div>
                </div>
                
                <div id="upload-organizacao" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Upload e Organização de Arquivos</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Repositório central de arquivos e documentos]
                    </div>
                </div>

                <!-- Módulo: Administração -->
                <div id="controle-usuarios" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Controle de Usuários</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Criação e gerenciamento de contas de colaboradores]
                    </div>
                </div>

                <div id="perfis-permissoes" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Perfis e Permissões</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Definição de níveis de acesso (Assistente Social, Gerente, etc.)]
                    </div>
                </div>

                <div id="auditoria-logs" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Auditoria e Logs</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Registro de ações do sistema e segurança]
                    </div>
                </div>

                <!-- Módulo: Indicadores e Monitoramento -->
                <div id="indicadores" class="view hidden">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6">Indicadores e Monitoramento</h1>
                    <div class="bg-white p-6 rounded-xl shadow-lg h-64 flex items-center justify-center text-gray-400 border border-dashed">
                        [Conteúdo: Painel de Indicadores de Impacto Social e Acompanhamento Longitudinal]
                    </div>
                </div>
            </main>
        </div>
        <!-- Fim da Área de Conteúdo -->
    </div>
    <!-- Fim da Estrutura Principal -->

    <!-- Backdrop para Menu Mobile -->
    <div id="sidebarBackdrop" class="fixed inset-0 bg-black opacity-50 z-20 hidden md:hidden" onclick="toggleSidebar()"></div>

    <script>
        // Variável global para rastrear a view atual
        let currentView = 'login';
        
        /**
         * ----------------------------------------------------
         * Funções Auxiliares de Navegação (Views)
         * ----------------------------------------------------
         */

        /**
         * Altera a tela (view) exibida no sistema.
         * @param {string} viewName - O nome da view a ser exibida ('login', 'dashboard', 'cadastro', etc.).
         */
        function setView(viewName) {
            currentView = viewName;
            const views = document.querySelectorAll('.view');
            const mainView = document.getElementById('mainView');
            const loginView = document.getElementById('loginView');
            const viewTitle = document.getElementById('viewTitle');
            
            // Esconde todas as views
            views.forEach(view => view.classList.add('hidden'));

            if (viewName === 'login') {
                loginView.classList.remove('hidden');
                mainView.classList.add('hidden');
            } else {
                loginView.classList.add('hidden');
                mainView.classList.remove('hidden');
                
                const targetView = document.getElementById(viewName);
                if (targetView) {
                    targetView.classList.remove('hidden');
                    // Atualiza o título do cabeçalho com base no conteúdo da view (h1)
                    const h1Element = targetView.querySelector('h1');
                    if (h1Element) {
                         viewTitle.textContent = h1Element.textContent;
                    } else if (viewName === 'cadastro') {
                        // Caso especial para a view de cadastro que usa h3
                        viewTitle.textContent = 'Cadastro de Novo Beneficiário';
                    }
                }
            }
            // Fecha o menu lateral em mobile após a navegação
            if (window.innerWidth < 768) {
                closeSidebar();
            }
        }

        /**
         * Simula a ação de Logout, voltando para a tela de Login.
         */
        function logout() {
            setView('login');
            console.log('Sessão encerrada.');
        }
        
        /**
         * ----------------------------------------------------
         * Funções de Feedback e Interatividade na Tela de Login
         * ----------------------------------------------------
         */

        /**
         * Exibe mensagens de feedback (erro, sucesso, recuperação) na tela de login.
         * @param {string} message - A mensagem a ser exibida.
         * @param {string} type - O tipo da mensagem ('error', 'success', 'info').
         */
        function displayMessage(message, type) {
            const messageBox = document.getElementById('messageBox');
            messageBox.textContent = message;
            // Remove classes antigas e esconde
            messageBox.className = 'p-3 rounded-lg text-sm transition-all duration-300';
            
            if (type === 'error') {
                messageBox.classList.add('bg-red-100', 'text-red-700', 'border', 'border-red-300');
            } else if (type === 'success') {
                messageBox.classList.add('bg-green-100', 'text-green-700', 'border', 'border-green-300');
            } else if (type === 'info') {
                 messageBox.classList.add('bg-blue-100', 'text-blue-700', 'border', 'border-blue-300');
            }

            messageBox.classList.remove('hidden');

            // Esconde após 5 segundos
            setTimeout(() => {
                messageBox.classList.add('hidden');
            }, 5000);
        }

        /**
         * Simula o login de forma robusta com estados de carregamento e erro.
         * @param {Event} e - Evento de submit do formulário.
         */
        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const usuario = document.getElementById('usuario').value;
            const senha = document.getElementById('senha').value;
            const loginButton = document.getElementById('loginButton');
            const loadingSpinner = document.getElementById('loadingSpinner');
            
            if (!usuario || !senha) {
                displayMessage('Usuário e senha são obrigatórios.', 'error');
                return;
            }

            // 1. Inicia o estado de carregamento (Interatividade)
            loginButton.disabled = true;
            loadingSpinner.classList.remove('hidden');
            loginButton.querySelector('span').textContent = ''; // Esconde o texto "Entrar"
            loginButton.classList.add('opacity-70');
            displayMessage('Verificando credenciais...', 'info');

            // Simulação de delay de rede
            await new Promise(resolve => setTimeout(resolve, 2000)); 

            // Simulação de autenticação (Sucesso garantido para desenvolvimento)
            const isSuccess = true; 
            
            // 2. Finaliza o estado de carregamento
            loginButton.disabled = false;
            loadingSpinner.classList.add('hidden');
            loginButton.querySelector('span').textContent = 'Entrar'; // Restaura o texto "Entrar"
            loginButton.classList.remove('opacity-70');

            if (isSuccess) {
                console.log('Login efetuado com sucesso.');
                // Simulação de sucesso visual rápido antes de mudar a tela
                displayMessage('Login bem-sucedido! Redirecionando...', 'success');
                // Espera um pouco para o usuário ver a mensagem de sucesso
                await new Promise(resolve => setTimeout(resolve, 500)); 
                setView('dashboard');
            } else {
                console.error('Falha na autenticação.');
                displayMessage('Falha ao autenticar. Usuário ou senha inválidos.', 'error');
            }
        });

        /**
         * Manipula a recuperação de senha.
         */
        function handleRecoverPassword(e) {
            e.preventDefault();
            const usuario = document.getElementById('usuario').value;
            if (usuario.length < 3) {
                displayMessage('Por favor, digite seu usuário/CPF no campo para iniciar a recuperação.', 'error');
                return;
            }
            displayMessage(`Solicitação enviada para o usuário ${usuario}. Verifique seu e-mail.`, 'info');
        }


        /**
         * ----------------------------------------------------
         * Funções de Animação e Interação do Menu Lateral
         * ----------------------------------------------------
         */

        const sidebar = document.getElementById('sidebar');
        const sidebarBackdrop = document.getElementById('sidebarBackdrop');
        const menuButton = document.getElementById('menuButton');

        /**
         * Abre/Fecha o menu lateral em dispositivos móveis.
         */
        function toggleSidebar() {
            sidebar.classList.toggle('-translate-x-full');
            sidebarBackdrop.classList.toggle('hidden');
        }
        
        /**
         * Fecha explicitamente o menu lateral (usado após navegação).
         */
        function closeSidebar() {
             sidebar.classList.add('-translate-x-full');
             sidebarBackdrop.classList.add('hidden');
        }

        // Evento para o botão do menu mobile
        menuButton.addEventListener('click', toggleSidebar);

        // Adiciona evento de clique a todos os botões de submenu
        document.querySelectorAll('[data-submenu]').forEach(button => {
            button.addEventListener('click', function() {
                const menuId = this.getAttribute('data-submenu');
                const submenu = document.getElementById(menuId);
                const arrow = document.querySelector(`[data-arrow="${menuId}"]`);

                // Verifica se o submenu está visível
                const isExpanded = submenu.classList.contains('active');
                
                // Fecha outros menus abertos no mesmo bloco (opcional, mas melhora UX)
                document.querySelectorAll('.submenu-group').forEach(group => {
                     // Verifica se o grupo aberto não é o que está sendo clicado
                     if (group.id !== menuId && group.classList.contains('active')) {
                        group.style.maxHeight = '0';
                        setTimeout(() => {
                            group.classList.add('hidden');
                            group.classList.remove('active');
                        }, 300);
                        // A seta do grupo sendo fechado deve ser desvirada
                        document.querySelector(`[data-arrow="${group.id}"]`).classList.remove('rotate-180');
                     }
                });


                // Toggle da classe 'active' e da visibilidade/altura
                if (isExpanded) {
                    // Fechar
                    submenu.style.maxHeight = '0';
                    setTimeout(() => {
                        submenu.classList.add('hidden');
                        submenu.classList.remove('active');
                    }, 300); // 300ms para corresponder à duração da transição
                    arrow.classList.remove('rotate-180');
                } else {
                    // Abrir
                    submenu.classList.remove('hidden');
                    submenu.classList.add('active');
                    // Define a altura máxima para a animação de expansão
                    submenu.style.maxHeight = submenu.scrollHeight + "px"; 
                    arrow.classList.add('rotate-180');
                }
            });
        });

        // Adiciona a classe de grupo para facilitar o fechamento de outros submenus
        document.querySelectorAll('[id$="-menu"]').forEach(el => el.classList.add('submenu-group'));


        // Garantir que a altura máxima seja reajustada em redimensionamento (para responsividade)
        window.addEventListener('resize', () => {
            document.querySelectorAll('[data-submenu]').forEach(button => {
                const menuId = button.getAttribute('data-submenu');
                const submenu = document.getElementById(menuId);
                if (submenu.classList.contains('active')) {
                    // Reajusta maxHeight se estiver ativo
                    submenu.style.maxHeight = submenu.scrollHeight + "px"; 
                }
            });

             // Fecha o menu lateral se a tela se tornar desktop
             if (window.innerWidth >= 768) {
                closeSidebar();
            }
        });

        // Função para simular o salvamento do formulário de beneficiário
        document.getElementById('beneficiarioForm').addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('Dados do Beneficiário salvos com sucesso!');
            // Implementar aqui a lógica de envio para o Back-end
            alertMessage('Cadastro de Beneficiário Salvo!', 'green');
            // Opcional: voltar para o dashboard após salvar
            // setView('dashboard');
        });

        /**
         * Função de mensagem customizada (substitui alert())
         * @param {string} message - A mensagem a ser exibida.
         * @param {string} color - A cor da mensagem (ex: 'green', 'red').
         */
        function alertMessage(message, color) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `fixed top-4 right-4 p-4 rounded-lg text-white shadow-xl z-50 transition-all duration-300 transform translate-y-0`;
            if (color === 'green') {
                alertDiv.classList.add('bg-g3-green-600');
            } else if (color === 'red') {
                alertDiv.classList.add('bg-red-600');
            } else if (color === 'info') {
                alertDiv.classList.add('bg-blue-600');
            }
            alertDiv.textContent = message;
            
            document.body.appendChild(alertDiv);

            // Esconde a mensagem após 4 segundos com animação
            setTimeout(() => {
                alertDiv.classList.add('opacity-0', 'translate-y-4');
                setTimeout(() => alertDiv.remove(), 300);
            }, 4000);
        }

        // Inicia na tela de Login
        document.addEventListener('DOMContentLoaded', () => {
            setView('login');
        });

    </script>
</body>
</html>